import { Component, OnInit } from '@angular/core';

interface Feature {
  name: string;
  displayName: string;
  creationDate: string;
  status: string;
  enabled: boolean;
  type: string;
  excludedCasUserIdCount: number;
  casUserIdCount: string;
  clientPartyIdCount: string;
  excludedClientPartyIdCount: number;
  artOwner: string;
  launchType: string;
}

@Component({
  selector: 'app-features',
  templateUrl: './features.component.html',
  styleUrls: ['./features.component.css']
})
export class FeaturesComponent implements OnInit {
  features: Feature[] = [];
  currentPage: number = 1;
  pageSize: number = 10;
  totalPages: number = 0;
  totalElements: number = 28; // Mock total elements for the pagination display

  mockResponse = {
    content: Array.from({ length: 28 }, (_, i) => ({
      name: `Feature_${i + 1}`,
      displayName: `Feature Display ${i + 1}`,
      creationDate: new Date().toISOString(),
      status: ['APPROVED', 'PENDING', 'REJECTED'][i % 3],
      enabled: i % 2 === 0,
      type: 'features',
      excludedCasUserIdCount: 0,
      casUserIdCount: '100',
      clientPartyIdCount: '10',
      excludedClientPartyIdCount: 0,
      artOwner: 'Global',
      launchType: 'Soft Launch'
    })),
    page: {
      number: 0,
      size: 10,
      totalElements: 28,
      totalPages: 3
    }
  };

  ngOnInit() {
    this.fetchMockFeatures();
  }

  fetchMockFeatures() {
    const startIndex = (this.currentPage - 1) * this.pageSize;
    const endIndex = startIndex + this.pageSize;
    this.features = this.mockResponse.content.slice(startIndex, endIndex);
    this.totalPages = Math.ceil(this.mockResponse.page.totalElements / this.pageSize);
  }

  changePage(newPage: number) {
    if (newPage > 0 && newPage <= this.totalPages) {
      this.currentPage = newPage;
      this.fetchMockFeatures();
    }
  }
}



      <div class="features-container">
  <h2>Feature List</h2>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Display Name</th>
        <th>Status</th>
        <th>Launch Type</th>
        <th>Creation Date</th>
        <th>Enabled</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let feature of features">
        <td>{{ feature.name }}</td>
        <td>{{ feature.displayName }}</td>
        <td>{{ feature.status }}</td>
        <td>{{ feature.launchType }}</td>
        <td>{{ feature.creationDate | date:'short' }}</td>
        <td>{{ feature.enabled ? 'Yes' : 'No' }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Custom Pagination -->
  <div class="pagination-container">
    <span>{{ (currentPage - 1) * pageSize + 1 }} - 
      {{ currentPage * pageSize > totalElements ? totalElements : currentPage * pageSize }} 
      of {{ totalElements }} cases
    </span>

    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">❮</button>

    <button *ngFor="let page of [].constructor(totalPages); let i = index"
            (click)="changePage(i + 1)" 
            [class.active]="currentPage === i + 1">
      {{ i + 1 }}
    </button>

    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">❯</button>
  </div>
</div>



      .features-container {
  width: 80%;
  margin: auto;
  text-align: center;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

th, td {
  border: 1px solid #ddd;
  padding: 8px;
}

th {
  background-color: #007bff;
  color: white;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
}

/* Pagination Styling */
.pagination-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 20px;
  gap: 10px;
  font-size: 14px;
}

.pagination-container button {
  padding: 5px 10px;
  border: none;
  background-color: transparent;
  cursor: pointer;
  font-size: 14px;
}

.pagination-container button.active {
  background-color: #007bff;
  color: white;
  border-radius: 5px;
}

.pagination-container button:disabled {
  color: #ccc;
  cursor: not-allowed;
}


