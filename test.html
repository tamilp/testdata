/**
 * Sort an array of objects by a specific property in a given locale
 * @param arr - Array of objects
 * @param locale - Language locale code (e.g., 'en', 'ta', 'zh')
 * @param order - 'asc' or 'desc'
 * @param sortBy - Property to sort by
 * @returns Sorted array
 */
function sortByLabel<T>(
  arr: T[],
  locale: string = 'en',
  order: 'asc' | 'desc' = 'asc',
  sortBy: keyof T
): T[] {
  return arr.sort((a, b) => {
    const aValue = a[sortBy];
    const bValue = b[sortBy];

    if (aValue == null || bValue == null) return 0; // skip null/undefined

    // String comparison (locale-aware)
    if (typeof aValue === 'string' && typeof bValue === 'string') {
      const result = aValue.localeCompare(bValue, locale, { sensitivity: 'base' });
      return order === 'asc' ? result : -result;
    }

    // Numeric or other type comparison
    if (aValue < bValue) return order === 'asc' ? -1 : 1;
    if (aValue > bValue) return order === 'asc' ? 1 : -1;
    return 0;
  });
}
