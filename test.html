// feature-management-tab.component.ts
import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';
import { TabService, Tab } from './tab.service';

@Component({
  selector: 'app-feature-management-tab',
  templateUrl: './feature-management-tab.component.html',
  styleUrls: ['./feature-management-tab.component.css'],
})
export class FeatureManagementTabComponent implements OnInit, AfterViewInit {
  tabs: Tab[] = [];
  activeTab: string | null = null;
  @ViewChild('tabList', { read: ElementRef }) tabList!: ElementRef;

  constructor(private tabService: TabService) {}

  ngOnInit() {
    this.tabService.getTabs().subscribe((data) => {
      this.tabs = data;
      if (this.tabs.length > 0) {
        this.activeTab = this.tabs[0].id; // Set the first tab as active
      }
    });
  }

  ngAfterViewInit() {
    // Optionally, scroll to the active tab on load
    this.scrollToActiveTab();
  }

  setActiveTab(tabId: string): void {
    this.activeTab = tabId;
    this.scrollToActiveTab();
  }

  scrollTabs(direction: 'left' | 'right'): void {
    const tabListEl = this.tabList.nativeElement;
    const scrollAmount = 100; // Adjust based on desired scroll distance
    if (direction === 'left') {
      tabListEl.scrollLeft -= scrollAmount;
    } else {
      tabListEl.scrollLeft += scrollAmount;
    }
  }

  private scrollToActiveTab(): void {
    const tabListEl = this.tabList.nativeElement;
    const activeTabEl = tabListEl.querySelector('.feature-management-tab__item--active');
    if (activeTabEl) {
      const activeTabOffsetLeft = activeTabEl.offsetLeft;
      const activeTabWidth = activeTabEl.offsetWidth;
      const tabListScrollLeft = tabListEl.scrollLeft;
      const tabListWidth = tabListEl.clientWidth;

      if (
        activeTabOffsetLeft < tabListScrollLeft ||
        activeTabOffsetLeft + activeTabWidth >
          tabListScrollLeft + tabListWidth
      ) {
        tabListEl.scrollLeft =
          activeTabOffsetLeft + activeTabWidth / 2 - tabListWidth / 2;
      }
    }
  }
}












          <!-- feature-management-tab.component.html -->
<div class="feature-management-tab">
  <!-- Navigation Button: Scroll Left -->
  <button
    class="feature-management-tab__nav-button"
    (click)="scrollTabs('left')"
  >
    &#9664;
  </button>

  <!-- Tab List -->
  <ul class="feature-management-tab__list" #tabList>
    <li
      *ngFor="let tab of tabs"
      class="feature-management-tab__item"
      [class.feature-management-tab__item--active]="activeTab === tab.id"
      (click)="setActiveTab(tab.id)"
    >
      {{ tab.label }}
    </li>
  </ul>

  <!-- Navigation Button: Scroll Right -->
  <button
    class="feature-management-tab__nav-button"
    (click)="scrollTabs('right')"
  >
    &#9654;
  </button>
</div>

<!-- Tab Content -->
<div class="feature-management-tab__content">
  <div
    *ngFor="let tab of tabs"
    class="feature-management-tab__panel"
    [hidden]="activeTab !== tab.id"
  >
    <h3>{{ tab.label }} Content</h3>
    <p>{{ tab.content }}</p>
  </div>
</div>









          /* feature-management-tab.component.css */
.feature-management-tab {
  display: flex;
  align-items: center;
  overflow: hidden;
}

.feature-management-tab__nav-button {
  flex: 0 0 auto;
  background-color: #f1f1f1;
  border: none;
  padding: 10px;
  cursor: pointer;
}

.feature-management-tab__list {
  display: flex;
  flex: 1 1 auto;
  list-style-type: none;
  padding: 0;
  margin: 0;
  overflow-x: auto;
  scroll-behavior: smooth;
}

.feature-management-tab__item {
  flex: 0 0 auto;
  padding: 10px 20px;
  cursor: pointer;
  white-space: nowrap;
}

.feature-management-tab__item--active {
  background-color: #007bff;
  color: #fff;
}

.feature-management-tab__content {
  padding: 20px;
  border-top: 1px solid #ddd;
}

.feature-management-tab__panel {
  /* Additional styling for tab panels */
}

