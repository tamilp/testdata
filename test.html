<div *ngIf="features.length > 0">
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Display Name</th>
        <th>Status</th>
        <th>Enabled</th>
        <th>Launch Type</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let feature of features">
        <td>{{ feature.name }}</td>
        <td>{{ feature.displayName }}</td>
        <td>{{ feature.status }}</td>
        <td>{{ feature.enabled ? 'Yes' : 'No' }}</td>
        <td>{{ feature.launchType }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Pagination -->
  <div class="pagination">
    <span>
      {{ currentPage * pageSize + 1 }} - 
      {{ (currentPage + 1) * pageSize > totalElements ? totalElements : (currentPage + 1) * pageSize }} 
      of {{ totalElements }} cases
    </span>

    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 0">‹</button>

    <!-- First page -->
    <button (click)="changePage(0)" [class.active]="currentPage === 0">1</button>

    <span *ngIf="currentPage > 3">...</span>

    <!-- Middle pages dynamically -->
    <button *ngFor="let page of getPageNumbers()" 
            (click)="changePage(page)" 
            [class.active]="currentPage === page">
      {{ page + 1 }}
    </button>

    <span *ngIf="currentPage < totalPages - 4">...</span>

    <!-- Last page -->
    <button (click)="changePage(totalPages - 1)" [class.active]="currentPage === totalPages - 1">
      {{ totalPages }}
    </button>

    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage >= totalPages - 1">›</button>

    <!-- Go to Page Input -->
    <input type="number" [(ngModel)]="goToPageNumber" 
           (keyup.enter)="jumpToPage()"
           min="1" [max]="totalPages"
           placeholder="Go to page" />
    <button (click)="jumpToPage()">Go</button>
  </div>
</div>



import { Component, OnInit } from '@angular/core';
import { HttpClient } from '@angular/common/http';

@Component({
  selector: 'app-feature',
  templateUrl: './feature.component.html',
  styleUrls: ['./feature.component.css']
})
export class FeatureComponent implements OnInit {
  features: any[] = [];
  currentPage: number = 0;
  pageSize: number = 10;
  totalElements: number = 0;
  totalPages: number = 0;
  goToPageNumber: number | null = null;
  apiUrl = 'http://localhost:5000/features'; // Update with your API URL

  constructor(private http: HttpClient) {}

  ngOnInit(): void {
    this.fetchFeatures();
  }

  fetchFeatures(): void {
    const requestBody = {
      page: this.currentPage,
      size: this.pageSize
    };

    this.http.post<any>(this.apiUrl, requestBody).subscribe(response => {
      this.features = response.content;
      this.totalElements = response.page.totalElements;
      this.totalPages = response.page.totalPages;
    });
  }

  changePage(newPage: number): void {
    if (newPage >= 0 && newPage < this.totalPages) {
      this.currentPage = newPage;
      this.fetchFeatures();
    }
  }

  jumpToPage(): void {
    if (this.goToPageNumber && this.goToPageNumber > 0 && this.goToPageNumber <= this.totalPages) {
      this.changePage(this.goToPageNumber - 1);
      this.goToPageNumber = null; // Reset input after navigating
    }
  }

  getPageNumbers(): number[] {
    const pages: number[] = [];

    if (this.totalPages <= 7) {
      // Show all pages if total pages are small
      for (let i = 1; i < this.totalPages - 1; i++) {
        pages.push(i);
      }
    } else {
      // Show first two, last two, and 3 around the current page
      if (this.currentPage <= 3) {
        pages.push(1, 2, 3);
      } else if (this.currentPage >= this.totalPages - 4) {
        pages.push(this.totalPages - 4, this.totalPages - 3, this.totalPages - 2);
      } else {
        pages.push(this.currentPage - 1, this.currentPage, this.currentPage + 1);
      }
    }

    return pages;
  }
}



        table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  padding: 8px;
  border: 1px solid #ddd;
  text-align: left;
}

th {
  background-color: #f4f4f4;
}

/* Pagination */
.pagination {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.pagination button {
  padding: 5px 10px;
  border: none;
  background: #007bff;
  color: white;
  cursor: pointer;
  border-radius: 5px;
}

.pagination button.active {
  background: #0056b3;
}

.pagination button:disabled {
  background: #ccc;
  cursor: not-allowed;
}

.pagination span {
  padding: 5px;
  font-size: 14px;
}

/* Input Box */
.pagination input {
  width: 80px;
  padding: 5px;
  text-align: center;
  border: 1px solid #ccc;
  border-radius: 5px;
}

